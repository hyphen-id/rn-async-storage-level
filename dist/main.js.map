{"mappings":"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","sources":["node_modules/abstract-level/abstract-level.js","node_modules/level-supports/index.js","node_modules/level-transcoder/index.js","node_modules/module-error/index.js","node_modules/level-transcoder/lib/encodings.js","node_modules/level-transcoder/lib/text-endec.js","node_modules/level-transcoder/lib/formats.js","node_modules/level-transcoder/lib/encoding.js","node_modules/catering/index.js","node_modules/catering/next-tick-browser.js","node_modules/abstract-level/abstract-iterator.js","node_modules/abstract-level/lib/common.js","node_modules/abstract-level/lib/default-kv-iterator.js","node_modules/abstract-level/lib/deferred-iterator.js","node_modules/abstract-level/lib/default-chained-batch.js","node_modules/abstract-level/abstract-chained-batch.js","node_modules/abstract-level/lib/range-options.js","node_modules/abstract-level/lib/next-tick-browser.js","node_modules/queue-microtask/index.js","node_modules/abstract-level/lib/abstract-sublevel.js","node_modules/abstract-level/lib/abstract-sublevel-iterator.js","src/index.ts","node_modules/abstract-level/index.js"],"sourcesContent":["'use strict'\n\nconst { supports } = require('level-supports')\nconst { Transcoder } = require('level-transcoder')\nconst { EventEmitter } = require('events')\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { AbstractIterator } = require('./abstract-iterator')\nconst { DefaultKeyIterator, DefaultValueIterator } = require('./lib/default-kv-iterator')\nconst { DeferredIterator, DeferredKeyIterator, DeferredValueIterator } = require('./lib/deferred-iterator')\nconst { DefaultChainedBatch } = require('./lib/default-chained-batch')\nconst { getCallback, getOptions } = require('./lib/common')\nconst rangeOptions = require('./lib/range-options')\n\nconst kPromise = Symbol('promise')\nconst kLanded = Symbol('landed')\nconst kResources = Symbol('resources')\nconst kCloseResources = Symbol('closeResources')\nconst kOperations = Symbol('operations')\nconst kUndefer = Symbol('undefer')\nconst kDeferOpen = Symbol('deferOpen')\nconst kOptions = Symbol('options')\nconst kStatus = Symbol('status')\nconst kDefaultOptions = Symbol('defaultOptions')\nconst kTranscoder = Symbol('transcoder')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst noop = () => {}\n\nclass AbstractLevel extends EventEmitter {\n  constructor (manifest, options) {\n    super()\n\n    if (typeof manifest !== 'object' || manifest === null) {\n      throw new TypeError(\"The first argument 'manifest' must be an object\")\n    }\n\n    options = getOptions(options)\n    const { keyEncoding, valueEncoding, passive, ...forward } = options\n\n    this[kResources] = new Set()\n    this[kOperations] = []\n    this[kDeferOpen] = true\n    this[kOptions] = forward\n    this[kStatus] = 'opening'\n\n    this.supports = supports(manifest, {\n      status: true,\n      promises: true,\n      clear: true,\n      getMany: true,\n      deferredOpen: true,\n\n      // TODO (next major): add seek\n      snapshots: manifest.snapshots !== false,\n      permanence: manifest.permanence !== false,\n\n      // TODO: remove from level-supports because it's always supported\n      keyIterator: true,\n      valueIterator: true,\n      iteratorNextv: true,\n      iteratorAll: true,\n\n      encodings: manifest.encodings || {},\n      events: Object.assign({}, manifest.events, {\n        opening: true,\n        open: true,\n        closing: true,\n        closed: true,\n        put: true,\n        del: true,\n        batch: true,\n        clear: true\n      })\n    })\n\n    this[kTranscoder] = new Transcoder(formats(this))\n    this[kKeyEncoding] = this[kTranscoder].encoding(keyEncoding || 'utf8')\n    this[kValueEncoding] = this[kTranscoder].encoding(valueEncoding || 'utf8')\n\n    // Add custom and transcoder encodings to manifest\n    for (const encoding of this[kTranscoder].encodings()) {\n      if (!this.supports.encodings[encoding.commonName]) {\n        this.supports.encodings[encoding.commonName] = true\n      }\n    }\n\n    this[kDefaultOptions] = {\n      empty: Object.freeze({}),\n      entry: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName,\n        valueEncoding: this[kValueEncoding].commonName\n      }),\n      key: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName\n      })\n    }\n\n    // Let subclass finish its constructor\n    this.nextTick(() => {\n      if (this[kDeferOpen]) {\n        this.open({ passive: false }, noop)\n      }\n    })\n  }\n\n  get status () {\n    return this[kStatus]\n  }\n\n  keyEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kKeyEncoding])\n  }\n\n  valueEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kValueEncoding])\n  }\n\n  open (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n\n    options = { ...this[kOptions], ...getOptions(options) }\n\n    options.createIfMissing = options.createIfMissing !== false\n    options.errorIfExists = !!options.errorIfExists\n\n    const maybeOpened = (err) => {\n      if (this[kStatus] === 'closing' || this[kStatus] === 'opening') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? () => maybeOpened(err) : maybeOpened)\n      } else if (this[kStatus] !== 'open') {\n        callback(new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (options.passive) {\n      if (this[kStatus] === 'opening') {\n        this.once(kLanded, maybeOpened)\n      } else {\n        this.nextTick(maybeOpened)\n      }\n    } else if (this[kStatus] === 'closed' || this[kDeferOpen]) {\n      this[kDeferOpen] = false\n      this[kStatus] = 'opening'\n      this.emit('opening')\n\n      this._open(options, (err) => {\n        if (err) {\n          this[kStatus] = 'closed'\n\n          // Resources must be safe to close in any db state\n          this[kCloseResources](() => {\n            this.emit(kLanded)\n            maybeOpened(err)\n          })\n\n          this[kUndefer]()\n          return\n        }\n\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n\n        // Only emit public event if pending state changes are done\n        if (this[kStatus] === 'open') this.emit('open')\n\n        // TODO (next major): remove this alias\n        if (this[kStatus] === 'open') this.emit('ready')\n\n        maybeOpened()\n      })\n    } else if (this[kStatus] === 'open') {\n      this.nextTick(maybeOpened)\n    } else {\n      this.once(kLanded, () => this.open(options, callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  _open (options, callback) {\n    this.nextTick(callback)\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    const maybeClosed = (err) => {\n      if (this[kStatus] === 'opening' || this[kStatus] === 'closing') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? maybeClosed(err) : maybeClosed)\n      } else if (this[kStatus] !== 'closed') {\n        callback(new ModuleError('Database is not closed', {\n          code: 'LEVEL_DATABASE_NOT_CLOSED',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (this[kStatus] === 'open') {\n      this[kStatus] = 'closing'\n      this.emit('closing')\n\n      const cancel = (err) => {\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n        maybeClosed(err)\n      }\n\n      this[kCloseResources](() => {\n        this._close((err) => {\n          if (err) return cancel(err)\n\n          this[kStatus] = 'closed'\n          this[kUndefer]()\n          this.emit(kLanded)\n\n          // Only emit public event if pending state changes are done\n          if (this[kStatus] === 'closed') this.emit('closed')\n\n          maybeClosed()\n        })\n      })\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(maybeClosed)\n    } else {\n      this.once(kLanded, () => this.close(callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  [kCloseResources] (callback) {\n    if (this[kResources].size === 0) {\n      return this.nextTick(callback)\n    }\n\n    let pending = this[kResources].size\n    let sync = true\n\n    const next = () => {\n      if (--pending === 0) {\n        // We don't have tests for generic resources, so dezalgo\n        if (sync) this.nextTick(callback)\n        else callback()\n      }\n    }\n\n    // In parallel so that all resources know they are closed\n    for (const resource of this[kResources]) {\n      resource.close(next)\n    }\n\n    sync = false\n    this[kResources].clear()\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  get (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.get(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options to the underlying store\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      // Avoid spread operator because of https://bugs.chromium.org/p/chromium/issues/detail?id=1204540\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    this._get(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err, value) => {\n      if (err) {\n        // Normalize not found error for backwards compatibility with abstract-leveldown and level(up)\n        if (err.code === 'LEVEL_NOT_FOUND' || err.notFound || /NotFound/i.test(err)) {\n          if (!err.code) err.code = 'LEVEL_NOT_FOUND' // Preferred way going forward\n          if (!err.notFound) err.notFound = true // Same as level-errors\n          if (!err.status) err.status = 404 // Same as level-errors\n        }\n\n        return callback(err)\n      }\n\n      try {\n        value = valueEncoding.decode(value)\n      } catch (err) {\n        return callback(new ModuleError('Could not decode value', {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, value)\n    })\n\n    return callback[kPromise]\n  }\n\n  _get (key, options, callback) {\n    this.nextTick(callback, new Error('NotFound'))\n  }\n\n  getMany (keys, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.getMany(keys, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(keys)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'keys' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (keys.length === 0) {\n      this.nextTick(callback, null, [])\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKeys = new Array(keys.length)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      const err = this._checkKey(key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      mappedKeys[i] = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    }\n\n    this._getMany(mappedKeys, options, (err, values) => {\n      if (err) return callback(err)\n\n      try {\n        for (let i = 0; i < values.length; i++) {\n          if (values[i] !== undefined) {\n            values[i] = valueEncoding.decode(values[i])\n          }\n        }\n      } catch (err) {\n        return callback(new ModuleError(`Could not decode one or more of ${values.length} value(s)`, {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, values)\n    })\n\n    return callback[kPromise]\n  }\n\n  _getMany (keys, options, callback) {\n    this.nextTick(callback, null, new Array(keys.length).fill(undefined))\n  }\n\n  put (key, value, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.put(key, value, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key) || this._checkValue(value)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKey = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options, (err) => {\n      if (err) return callback(err)\n      this.emit('put', key, value)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _put (key, value, options, callback) {\n    this.nextTick(callback)\n  }\n\n  del (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].key)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.del(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat })\n    }\n\n    this._del(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err) => {\n      if (err) return callback(err)\n      this.emit('del', key)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _del (key, options, callback) {\n    this.nextTick(callback)\n  }\n\n  batch (operations, options, callback) {\n    if (!arguments.length) {\n      if (this[kStatus] === 'opening') return new DefaultChainedBatch(this)\n      if (this[kStatus] !== 'open') {\n        throw new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN'\n        })\n      }\n      return this._chainedBatch()\n    }\n\n    if (typeof operations === 'function') callback = operations\n    else callback = getCallback(options, callback)\n\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.batch(operations, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(operations)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'operations' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (operations.length === 0) {\n      this.nextTick(callback)\n      return callback[kPromise]\n    }\n\n    const mapped = new Array(operations.length)\n    const { keyEncoding: ke, valueEncoding: ve, ...forward } = options\n\n    for (let i = 0; i < operations.length; i++) {\n      if (typeof operations[i] !== 'object' || operations[i] === null) {\n        this.nextTick(callback, new TypeError('A batch operation must be an object'))\n        return callback[kPromise]\n      }\n\n      const op = Object.assign({}, operations[i])\n\n      if (op.type !== 'put' && op.type !== 'del') {\n        this.nextTick(callback, new TypeError(\"A batch operation must have a type property that is 'put' or 'del'\"))\n        return callback[kPromise]\n      }\n\n      const err = this._checkKey(op.key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      const db = op.sublevel != null ? op.sublevel : this\n      const keyEncoding = db.keyEncoding(op.keyEncoding || ke)\n      const keyFormat = keyEncoding.format\n\n      op.key = db.prefixKey(keyEncoding.encode(op.key), keyFormat)\n      op.keyEncoding = keyFormat\n\n      if (op.type === 'put') {\n        const valueErr = this._checkValue(op.value)\n\n        if (valueErr) {\n          this.nextTick(callback, valueErr)\n          return callback[kPromise]\n        }\n\n        const valueEncoding = db.valueEncoding(op.valueEncoding || ve)\n\n        op.value = valueEncoding.encode(op.value)\n        op.valueEncoding = valueEncoding.format\n      }\n\n      // Prevent double prefixing\n      if (db !== this) {\n        op.sublevel = null\n      }\n\n      mapped[i] = op\n    }\n\n    this._batch(mapped, forward, (err) => {\n      if (err) return callback(err)\n      this.emit('batch', operations)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _batch (operations, options, callback) {\n    this.nextTick(callback)\n  }\n\n  sublevel (name, options) {\n    return this._sublevel(name, AbstractSublevel.defaults(options))\n  }\n\n  _sublevel (name, options) {\n    return new AbstractSublevel(this, name, options)\n  }\n\n  prefixKey (key, keyFormat) {\n    return key\n  }\n\n  clear (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.clear(options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const original = options\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keyEncoding = keyEncoding.format\n\n    if (options.limit === 0) {\n      this.nextTick(callback)\n    } else {\n      this._clear(options, (err) => {\n        if (err) return callback(err)\n        this.emit('clear', original)\n        callback()\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _clear (options, callback) {\n    this.nextTick(callback)\n  }\n\n  iterator (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keys = options.keys !== false\n    options.values = options.values !== false\n\n    // We need the original encoding options in AbstractIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._iterator(options)\n  }\n\n  _iterator (options) {\n    return new AbstractIterator(this, options)\n  }\n\n  keys (options) {\n    // Also include valueEncoding (though unused) because we may fallback to _iterator()\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractKeyIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredKeyIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._keys(options)\n  }\n\n  _keys (options) {\n    return new DefaultKeyIterator(this, options)\n  }\n\n  values (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractValueIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredValueIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._values(options)\n  }\n\n  _values (options) {\n    return new DefaultValueIterator(this, options)\n  }\n\n  defer (fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The first argument must be a function')\n    }\n\n    this[kOperations].push(fn)\n  }\n\n  [kUndefer] () {\n    if (this[kOperations].length === 0) {\n      return\n    }\n\n    const operations = this[kOperations]\n    this[kOperations] = []\n\n    for (const op of operations) {\n      op()\n    }\n  }\n\n  // TODO: docs and types\n  attachResource (resource) {\n    if (typeof resource !== 'object' || resource === null ||\n      typeof resource.close !== 'function') {\n      throw new TypeError('The first argument must be a resource object')\n    }\n\n    this[kResources].add(resource)\n  }\n\n  // TODO: docs and types\n  detachResource (resource) {\n    this[kResources].delete(resource)\n  }\n\n  _chainedBatch () {\n    return new DefaultChainedBatch(this)\n  }\n\n  _checkKey (key) {\n    if (key === null || key === undefined) {\n      return new ModuleError('Key cannot be null or undefined', {\n        code: 'LEVEL_INVALID_KEY'\n      })\n    }\n  }\n\n  _checkValue (value) {\n    if (value === null || value === undefined) {\n      return new ModuleError('Value cannot be null or undefined', {\n        code: 'LEVEL_INVALID_VALUE'\n      })\n    }\n  }\n}\n\n// Expose browser-compatible nextTick for dependents\n// TODO: after we drop node 10, also use queueMicrotask in node\nAbstractLevel.prototype.nextTick = require('./lib/next-tick')\n\nconst { AbstractSublevel } = require('./lib/abstract-sublevel')({ AbstractLevel })\n\nexports.AbstractLevel = AbstractLevel\nexports.AbstractSublevel = AbstractSublevel\n\nconst maybeError = function (db, callback) {\n  if (db[kStatus] !== 'open') {\n    db.nextTick(callback, new ModuleError('Database is not open', {\n      code: 'LEVEL_DATABASE_NOT_OPEN'\n    }))\n    return true\n  }\n\n  return false\n}\n\nconst formats = function (db) {\n  return Object.keys(db.supports.encodings)\n    .filter(k => !!db.supports.encodings[k])\n}\n","'use strict'\n\nexports.supports = function supports (...manifests) {\n  const manifest = manifests.reduce((acc, m) => Object.assign(acc, m), {})\n\n  return Object.assign(manifest, {\n    snapshots: manifest.snapshots || false,\n    permanence: manifest.permanence || false,\n    seek: manifest.seek || false,\n    clear: manifest.clear || false,\n    getMany: manifest.getMany || false,\n    keyIterator: manifest.keyIterator || false,\n    valueIterator: manifest.valueIterator || false,\n    iteratorNextv: manifest.iteratorNextv || false,\n    iteratorAll: manifest.iteratorAll || false,\n    status: manifest.status || false,\n    createIfMissing: manifest.createIfMissing || false,\n    errorIfExists: manifest.errorIfExists || false,\n    deferredOpen: manifest.deferredOpen || false,\n    promises: manifest.promises || false,\n    streams: manifest.streams || false,\n    encodings: Object.assign({}, manifest.encodings),\n    events: Object.assign({}, manifest.events),\n    additionalMethods: Object.assign({}, manifest.additionalMethods)\n  })\n}\n","'use strict'\n\nconst ModuleError = require('module-error')\nconst encodings = require('./lib/encodings')\nconst { Encoding } = require('./lib/encoding')\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./lib/formats')\n\nconst kFormats = Symbol('formats')\nconst kEncodings = Symbol('encodings')\nconst validFormats = new Set(['buffer', 'view', 'utf8'])\n\n/** @template T */\nclass Transcoder {\n  /**\n   * @param {Array<'buffer'|'view'|'utf8'>} formats\n   */\n  constructor (formats) {\n    if (!Array.isArray(formats)) {\n      throw new TypeError(\"The first argument 'formats' must be an array\")\n    } else if (!formats.every(f => validFormats.has(f))) {\n      // Note: we only only support aliases in key- and valueEncoding options (where we already did)\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    /** @type {Map<string|MixedEncoding<any, any, any>, Encoding<any, any, any>>} */\n    this[kEncodings] = new Map()\n    this[kFormats] = new Set(formats)\n\n    // Register encodings (done early in order to populate encodings())\n    for (const k in encodings) {\n      try {\n        this.encoding(k)\n      } catch (err) {\n        /* istanbul ignore if: assertion */\n        if (err.code !== 'LEVEL_ENCODING_NOT_SUPPORTED') throw err\n      }\n    }\n  }\n\n  /**\n   * @returns {Array<Encoding<any,T,any>>}\n   */\n  encodings () {\n    return Array.from(new Set(this[kEncodings].values()))\n  }\n\n  /**\n   * @param {string|MixedEncoding<any, any, any>} encoding\n   * @returns {Encoding<any, T, any>}\n   */\n  encoding (encoding) {\n    let resolved = this[kEncodings].get(encoding)\n\n    if (resolved === undefined) {\n      if (typeof encoding === 'string' && encoding !== '') {\n        resolved = lookup[encoding]\n\n        if (!resolved) {\n          throw new ModuleError(`Encoding '${encoding}' is not found`, {\n            code: 'LEVEL_ENCODING_NOT_FOUND'\n          })\n        }\n      } else if (typeof encoding !== 'object' || encoding === null) {\n        throw new TypeError(\"First argument 'encoding' must be a string or object\")\n      } else {\n        resolved = from(encoding)\n      }\n\n      const { name, format } = resolved\n\n      if (!this[kFormats].has(format)) {\n        if (this[kFormats].has('view')) {\n          resolved = resolved.createViewTranscoder()\n        } else if (this[kFormats].has('buffer')) {\n          resolved = resolved.createBufferTranscoder()\n        } else if (this[kFormats].has('utf8')) {\n          resolved = resolved.createUTF8Transcoder()\n        } else {\n          throw new ModuleError(`Encoding '${name}' cannot be transcoded`, {\n            code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n          })\n        }\n      }\n\n      for (const k of [encoding, name, resolved.name, resolved.commonName]) {\n        this[kEncodings].set(k, resolved)\n      }\n    }\n\n    return resolved\n  }\n}\n\nexports.Transcoder = Transcoder\n\n/**\n * @param {MixedEncoding<any, any, any>} options\n * @returns {Encoding<any, any, any>}\n */\nfunction from (options) {\n  if (options instanceof Encoding) {\n    return options\n  }\n\n  // Loosely typed for ecosystem compatibility\n  const maybeType = 'type' in options && typeof options.type === 'string' ? options.type : undefined\n  const name = options.name || maybeType || `anonymous-${anonymousCount++}`\n\n  switch (detectFormat(options)) {\n    case 'view': return new ViewFormat({ ...options, name })\n    case 'utf8': return new UTF8Format({ ...options, name })\n    case 'buffer': return new BufferFormat({ ...options, name })\n    default: {\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n  }\n}\n\n/**\n * If format is not provided, fallback to detecting `level-codec`\n * or `multiformats` encodings, else assume a format of buffer.\n * @param {MixedEncoding<any, any, any>} options\n * @returns {string}\n */\nfunction detectFormat (options) {\n  if ('format' in options && options.format !== undefined) {\n    return options.format\n  } else if ('buffer' in options && typeof options.buffer === 'boolean') {\n    return options.buffer ? 'buffer' : 'utf8' // level-codec\n  } else if ('code' in options && Number.isInteger(options.code)) {\n    return 'view' // multiformats\n  } else {\n    return 'buffer'\n  }\n}\n\n/**\n * @typedef {import('./lib/encoding').MixedEncoding<TIn,TFormat,TOut>} MixedEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst aliases = {\n  binary: encodings.buffer,\n  'utf-8': encodings.utf8\n}\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst lookup = {\n  ...encodings,\n  ...aliases\n}\n\nlet anonymousCount = 0\n","'use strict'\n\nmodule.exports = class ModuleError extends Error {\n  /**\n   * @param {string} message Error message\n   * @param {{ code?: string, cause?: Error, expected?: boolean, transient?: boolean }} [options]\n   */\n  constructor (message, options) {\n    super(message || '')\n\n    if (typeof options === 'object' && options !== null) {\n      if (options.code) this.code = String(options.code)\n      if (options.expected) this.expected = true\n      if (options.transient) this.transient = true\n      if (options.cause) this.cause = options.cause\n    }\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor)\n    }\n  }\n}\n","'use strict'\n\nconst { Buffer } = require('buffer') || { Buffer: { isBuffer: () => false } }\nconst { textEncoder, textDecoder } = require('./text-endec')()\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./formats')\n\n/** @type {<T>(v: T) => v} */\nconst identity = (v) => v\n\n/**\n * @type {typeof import('./encodings').utf8}\n */\nexports.utf8 = new UTF8Format({\n  encode: function (data) {\n    // On node 16.9.1 buffer.toString() is 5x faster than TextDecoder\n    return Buffer.isBuffer(data)\n      ? data.toString('utf8')\n      : ArrayBuffer.isView(data)\n        ? textDecoder.decode(data)\n        : String(data)\n  },\n  decode: identity,\n  name: 'utf8',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n      },\n      decode: function (data) {\n        return textDecoder.decode(data)\n      },\n      name: `${this.name}+view`\n    })\n  },\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return data.toString('utf8')\n      },\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').json}\n */\nexports.json = new UTF8Format({\n  encode: JSON.stringify,\n  decode: JSON.parse,\n  name: 'json'\n})\n\n/**\n * @type {typeof import('./encodings').buffer}\n */\nexports.buffer = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data)\n      ? data\n      : ArrayBuffer.isView(data)\n        ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n        : Buffer.from(String(data), 'utf8')\n  },\n  decode: identity,\n  name: 'buffer',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      },\n      name: `${this.name}+view`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').view}\n */\nexports.view = new ViewFormat({\n  encode: function (data) {\n    return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n  },\n  decode: identity,\n  name: 'view',\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: identity,\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').hex}\n */\nexports.hex = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'hex')\n  },\n  decode: function (buffer) {\n    return buffer.toString('hex')\n  },\n  name: 'hex'\n})\n\n/**\n * @type {typeof import('./encodings').base64}\n */\nexports.base64 = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'base64')\n  },\n  decode: function (buffer) {\n    return buffer.toString('base64')\n  },\n  name: 'base64'\n})\n","'use strict'\n\n/** @type {{ textEncoder: TextEncoder, textDecoder: TextDecoder }|null} */\nlet lazy = null\n\n/**\n * Get semi-global instances of TextEncoder and TextDecoder.\n * @returns {{ textEncoder: TextEncoder, textDecoder: TextDecoder }}\n */\nmodule.exports = function () {\n  if (lazy === null) {\n    lazy = {\n      textEncoder: new TextEncoder(),\n      textDecoder: new TextDecoder()\n    }\n  }\n\n  return lazy\n}\n","'use strict'\n\nconst { Buffer } = require('buffer') || {}\nconst { Encoding } = require('./encoding')\nconst textEndec = require('./text-endec')\n\n/**\n * @template TIn, TOut\n * @extends {Encoding<TIn,Buffer,TOut>}\n */\nclass BufferFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Buffer, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'buffer' })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: this.encode, // Buffer is a view (UInt8Array)\n      decode: (data) => this.decode(\n        Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      ),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,Uint8Array,TOut>}\n * @template TIn, TOut\n */\nclass ViewFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Uint8Array, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'view' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => {\n        const view = this.encode(data)\n        return Buffer.from(view.buffer, view.byteOffset, view.byteLength)\n      },\n      decode: this.decode, // Buffer is a view (UInt8Array)\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,string,TOut>}\n * @template TIn, TOut\n */\nclass UTF8Format extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, string, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'utf8' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => Buffer.from(this.encode(data), 'utf8'),\n      decode: (data) => this.decode(data.toString('utf8')),\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    const { textEncoder, textDecoder } = textEndec()\n\n    return new ViewFormat({\n      encode: (data) => textEncoder.encode(this.encode(data)),\n      decode: (data) => this.decode(textDecoder.decode(data)),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createUTF8Transcoder () {\n    return this\n  }\n}\n\nexports.BufferFormat = BufferFormat\nexports.ViewFormat = ViewFormat\nexports.UTF8Format = UTF8Format\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n","'use strict'\n\nconst ModuleError = require('module-error')\nconst formats = new Set(['buffer', 'view', 'utf8'])\n\n/**\n * @template TIn, TFormat, TOut\n * @abstract\n */\nclass Encoding {\n  /**\n   * @param {IEncoding<TIn,TFormat,TOut>} options\n   */\n  constructor (options) {\n    /** @type {(data: TIn) => TFormat} */\n    this.encode = options.encode || this.encode\n\n    /** @type {(data: TFormat) => TOut} */\n    this.decode = options.decode || this.decode\n\n    /** @type {string} */\n    this.name = options.name || this.name\n\n    /** @type {string} */\n    this.format = options.format || this.format\n\n    if (typeof this.encode !== 'function') {\n      throw new TypeError(\"The 'encode' property must be a function\")\n    }\n\n    if (typeof this.decode !== 'function') {\n      throw new TypeError(\"The 'decode' property must be a function\")\n    }\n\n    this.encode = this.encode.bind(this)\n    this.decode = this.decode.bind(this)\n\n    if (typeof this.name !== 'string' || this.name === '') {\n      throw new TypeError(\"The 'name' property must be a string\")\n    }\n\n    if (typeof this.format !== 'string' || !formats.has(this.format)) {\n      throw new TypeError(\"The 'format' property must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    if (options.createViewTranscoder) {\n      this.createViewTranscoder = options.createViewTranscoder\n    }\n\n    if (options.createBufferTranscoder) {\n      this.createBufferTranscoder = options.createBufferTranscoder\n    }\n\n    if (options.createUTF8Transcoder) {\n      this.createUTF8Transcoder = options.createUTF8Transcoder\n    }\n  }\n\n  get commonName () {\n    return /** @type {string} */ (this.name.split('+')[0])\n  }\n\n  /** @return {BufferFormat<TIn,TOut>} */\n  createBufferTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'buffer'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {ViewFormat<TIn,TOut>} */\n  createViewTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'view'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {UTF8Format<TIn,TOut>} */\n  createUTF8Transcoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'utf8'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n}\n\nexports.Encoding = Encoding\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @typedef {import('./formats').BufferFormat<TIn,TOut>} BufferFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').ViewFormat<TIn,TOut>} ViewFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').UTF8Format<TIn,TOut>} UTF8Format\n * @template TIn, TOut\n */\n","'use strict'\n\nvar nextTick = require('./next-tick')\n\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      }\n    })\n\n    callback[symbol !== undefined ? symbol : 'promise'] = promise\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function')\n  }\n\n  return callback\n}\n\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise\n\n  promise\n    .then(function (res) { nextTick(() => callback(null, res)) })\n    .catch(function (err) { nextTick(() => callback(err)) })\n}\n","module.exports = typeof queueMicrotask === 'function' ? queueMicrotask : (fn) => Promise.resolve().then(fn)\n","'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getOptions, getCallback } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kCallback = Symbol('callback')\nconst kWorking = Symbol('working')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kAutoClose = Symbol('autoClose')\nconst kFinishWork = Symbol('finishWork')\nconst kReturnMany = Symbol('returnMany')\nconst kClosing = Symbol('closing')\nconst kHandleClose = Symbol('handleClose')\nconst kClosed = Symbol('closed')\nconst kCloseCallbacks = Symbol('closeCallbacks')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst kAbortOnClose = Symbol('abortOnClose')\nconst kLegacy = Symbol('legacy')\nconst kKeys = Symbol('keys')\nconst kValues = Symbol('values')\nconst kLimit = Symbol('limit')\nconst kCount = Symbol('count')\n\nconst emptyOptions = Object.freeze({})\nconst noop = () => {}\nlet warnedEnd = false\n\n// This class is an internal utility for common functionality between AbstractIterator,\n// AbstractKeyIterator and AbstractValueIterator. It's not exported.\nclass CommonIterator {\n  constructor (db, options, legacy) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    if (typeof options !== 'object' || options === null) {\n      throw new TypeError('The second argument must be an options object')\n    }\n\n    this[kClosed] = false\n    this[kCloseCallbacks] = []\n    this[kWorking] = false\n    this[kClosing] = false\n    this[kAutoClose] = false\n    this[kCallback] = null\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kHandleClose] = this[kHandleClose].bind(this)\n    this[kKeyEncoding] = options[kKeyEncoding]\n    this[kValueEncoding] = options[kValueEncoding]\n    this[kLegacy] = legacy\n    this[kLimit] = Number.isInteger(options.limit) && options.limit >= 0 ? options.limit : Infinity\n    this[kCount] = 0\n\n    // Undocumented option to abort pending work on close(). Used by the\n    // many-level module as a temporary solution to a blocked close().\n    // TODO (next major): consider making this the default behavior. Native\n    // implementations should have their own logic to safely close iterators.\n    this[kAbortOnClose] = !!options.abortOnClose\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get count () {\n    return this[kCount]\n  }\n\n  get limit () {\n    return this[kLimit]\n  }\n\n  next (callback) {\n    let promise\n\n    if (callback === undefined) {\n      promise = new Promise((resolve, reject) => {\n        callback = (err, key, value) => {\n          if (err) reject(err)\n          else if (!this[kLegacy]) resolve(key)\n          else if (key === undefined && value === undefined) resolve()\n          else resolve([key, value])\n        }\n      })\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('Callback must be a function')\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call next() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleOne], null)\n      else this._next(this[kHandleOne])\n    }\n\n    return promise\n  }\n\n  _next (callback) {\n    this.nextTick(callback)\n  }\n\n  nextv (size, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (!Number.isInteger(size)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'size' must be an integer\"))\n      return callback[kPromise]\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call nextv() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      if (size < 1) size = 1\n      if (this[kLimit] < Infinity) size = Math.min(size, this[kLimit] - this[kCount])\n\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (size <= 0) this.nextTick(this[kHandleMany], null, [])\n      else this._nextv(size, options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _nextv (size, options, callback) {\n    const acc = []\n    const onnext = (err, key, value) => {\n      if (err) {\n        return callback(err)\n      } else if (this[kLegacy] ? key === undefined && value === undefined : key === undefined) {\n        return callback(null, acc)\n      }\n\n      acc.push(this[kLegacy] ? [key, value] : key)\n\n      if (acc.length === size) {\n        callback(null, acc)\n      } else {\n        this._next(onnext)\n      }\n    }\n\n    this._next(onnext)\n  }\n\n  all (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call all() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n      this[kAutoClose] = true\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleMany], null, [])\n      else this._all(options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _all (options, callback) {\n    // Must count here because we're directly calling _nextv()\n    let count = this[kCount]\n    const acc = []\n\n    const nextv = () => {\n      // Not configurable, because implementations should optimize _all().\n      const size = this[kLimit] < Infinity ? Math.min(1e3, this[kLimit] - count) : 1e3\n\n      if (size <= 0) {\n        this.nextTick(callback, null, acc)\n      } else {\n        this._nextv(size, emptyOptions, onnextv)\n      }\n    }\n\n    const onnextv = (err, items) => {\n      if (err) {\n        callback(err)\n      } else if (items.length === 0) {\n        callback(null, acc)\n      } else {\n        acc.push.apply(acc, items)\n        count += items.length\n        nextv()\n      }\n    }\n\n    nextv()\n  }\n\n  [kFinishWork] () {\n    const cb = this[kCallback]\n\n    // Callback will be null if work was aborted on close\n    if (this[kAbortOnClose] && cb === null) return noop\n\n    this[kWorking] = false\n    this[kCallback] = null\n\n    if (this[kClosing]) this._close(this[kHandleClose])\n\n    return cb\n  }\n\n  [kReturnMany] (cb, err, items) {\n    if (this[kAutoClose]) {\n      this.close(cb.bind(null, err, items))\n    } else {\n      cb(err, items)\n    }\n  }\n\n  seek (target, options) {\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      // Don't throw here, to be kind to implementations that wrap\n      // another db and don't necessarily control when the db is closed\n    } else if (this[kWorking]) {\n      throw new ModuleError('Iterator is busy: cannot call seek() until next() has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      })\n    } else {\n      const keyEncoding = this.db.keyEncoding(options.keyEncoding || this[kKeyEncoding])\n      const keyFormat = keyEncoding.format\n\n      if (options.keyEncoding !== keyFormat) {\n        options = { ...options, keyEncoding: keyFormat }\n      }\n\n      const mapped = this.db.prefixKey(keyEncoding.encode(target), keyFormat)\n      this._seek(mapped, options)\n    }\n  }\n\n  _seek (target, options) {\n    throw new ModuleError('Iterator does not support seek()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kClosed]) {\n      this.nextTick(callback)\n    } else if (this[kClosing]) {\n      this[kCloseCallbacks].push(callback)\n    } else {\n      this[kClosing] = true\n      this[kCloseCallbacks].push(callback)\n\n      if (!this[kWorking]) {\n        this._close(this[kHandleClose])\n      } else if (this[kAbortOnClose]) {\n        // Don't wait for work to finish. Subsequently ignore the result.\n        const cb = this[kFinishWork]()\n\n        cb(new ModuleError('Aborted on iterator close()', {\n          code: 'LEVEL_ITERATOR_NOT_OPEN'\n        }))\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kHandleClose] () {\n    this[kClosed] = true\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n\n  async * [Symbol.asyncIterator] () {\n    try {\n      let item\n\n      while ((item = (await this.next())) !== undefined) {\n        yield item\n      }\n    } finally {\n      if (!this[kClosed]) await this.close()\n    }\n  }\n}\n\n// For backwards compatibility this class is not (yet) called AbstractEntryIterator.\nclass AbstractIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, true)\n    this[kKeys] = options.keys !== false\n    this[kValues] = options.values !== false\n  }\n\n  [kHandleOne] (err, key, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      value = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('entry', err))\n    }\n\n    if (!(key === undefined && value === undefined)) {\n      this[kCount]++\n    }\n\n    cb(null, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (const entry of entries) {\n        const key = entry[0]\n        const value = entry[1]\n\n        entry[0] = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n        entry[1] = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('entries', err))\n    }\n\n    this[kCount] += entries.length\n    this[kReturnMany](cb, null, entries)\n  }\n\n  end (callback) {\n    if (!warnedEnd && typeof console !== 'undefined') {\n      warnedEnd = true\n      console.warn(new ModuleError(\n        'The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version',\n        { code: 'LEVEL_LEGACY' }\n      ))\n    }\n\n    return this.close(callback)\n  }\n}\n\nclass AbstractKeyIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, key) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('key', err))\n    }\n\n    if (key !== undefined) this[kCount]++\n    cb(null, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        keys[i] = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('keys', err))\n    }\n\n    this[kCount] += keys.length\n    this[kReturnMany](cb, null, keys)\n  }\n}\n\nclass AbstractValueIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      value = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('value', err))\n    }\n\n    if (value !== undefined) this[kCount]++\n    cb(null, value)\n  }\n\n  [kHandleMany] (err, values) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i]\n        values[i] = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('values', err))\n    }\n\n    this[kCount] += values.length\n    this[kReturnMany](cb, null, values)\n  }\n}\n\n// Internal utility, not typed or exported\nclass IteratorDecodeError extends ModuleError {\n  constructor (subject, cause) {\n    super(`Iterator could not decode ${subject}`, {\n      code: 'LEVEL_DECODE_ERROR',\n      cause\n    })\n  }\n}\n\n// To help migrating to abstract-level\nfor (const k of ['_ended property', '_nexting property', '_end method']) {\n  Object.defineProperty(AbstractIterator.prototype, k.split(' ')[0], {\n    get () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) },\n    set () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) }\n  })\n}\n\n// Exposed so that AbstractLevel can set these options\nAbstractIterator.keyEncoding = kKeyEncoding\nAbstractIterator.valueEncoding = kValueEncoding\n\nexports.AbstractIterator = AbstractIterator\nexports.AbstractKeyIterator = AbstractKeyIterator\nexports.AbstractValueIterator = AbstractValueIterator\n","'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options, def) {\n  if (typeof options === 'object' && options !== null) {\n    return options\n  }\n\n  if (def !== undefined) {\n    return def\n  }\n\n  return {}\n}\n","'use strict'\n\nconst { AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kIterator = Symbol('iterator')\nconst kCallback = Symbol('callback')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\n\nclass DefaultKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: true, values: false })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nclass DefaultValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: false, values: true })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nfor (const Iterator of [DefaultKeyIterator, DefaultValueIterator]) {\n  const keys = Iterator === DefaultKeyIterator\n  const mapEntry = keys ? (entry) => entry[0] : (entry) => entry[1]\n\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype[kHandleOne] = function (err, key, value) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, keys ? key : value)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n\n  Iterator.prototype[kHandleMany] = function (err, entries) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, entries.map(mapEntry))\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\n// Internal utilities, should be typed as AbstractKeyIterator and AbstractValueIterator\nexports.DefaultKeyIterator = DefaultKeyIterator\nexports.DefaultValueIterator = DefaultValueIterator\n","'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\nconst ModuleError = require('module-error')\n\nconst kNut = Symbol('nut')\nconst kUndefer = Symbol('undefer')\nconst kFactory = Symbol('factory')\n\nclass DeferredIterator extends AbstractIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.iterator(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.keys(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.values(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nfor (const Iterator of [DeferredIterator, DeferredKeyIterator, DeferredValueIterator]) {\n  Iterator.prototype[kUndefer] = function () {\n    if (this.db.status === 'open') {\n      this[kNut] = this[kFactory]()\n    }\n  }\n\n  Iterator.prototype._next = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].next(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._next(callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].nextv(size, options, callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._nextv(size, options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].all(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._all(options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    if (this[kNut] !== null) {\n      // TODO: explain why we need _seek() rather than seek() here\n      this[kNut]._seek(target, options)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._seek(target, options))\n    }\n  }\n\n  Iterator.prototype._close = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].close(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._close(callback))\n    } else {\n      this.nextTick(callback)\n    }\n  }\n}\n\nexports.DeferredIterator = DeferredIterator\nexports.DeferredKeyIterator = DeferredKeyIterator\nexports.DeferredValueIterator = DeferredValueIterator\n","'use strict'\n\nconst { AbstractChainedBatch } = require('../abstract-chained-batch')\nconst ModuleError = require('module-error')\nconst kEncoded = Symbol('encoded')\n\n// Functional default for chained batch, with support of deferred open\nclass DefaultChainedBatch extends AbstractChainedBatch {\n  constructor (db) {\n    super(db)\n    this[kEncoded] = []\n  }\n\n  _put (key, value, options) {\n    this[kEncoded].push({ ...options, type: 'put', key, value })\n  }\n\n  _del (key, options) {\n    this[kEncoded].push({ ...options, type: 'del', key })\n  }\n\n  _clear () {\n    this[kEncoded] = []\n  }\n\n  // Assumes this[kEncoded] cannot change after write()\n  _write (options, callback) {\n    if (this.db.status === 'opening') {\n      this.db.defer(() => this._write(options, callback))\n    } else if (this.db.status === 'open') {\n      if (this[kEncoded].length === 0) this.nextTick(callback)\n      else this.db._batch(this[kEncoded], options, callback)\n    } else {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    }\n  }\n}\n\nexports.DefaultChainedBatch = DefaultChainedBatch\n","'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getCallback, getOptions } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kStatus = Symbol('status')\nconst kOperations = Symbol('operations')\nconst kFinishClose = Symbol('finishClose')\nconst kCloseCallbacks = Symbol('closeCallbacks')\n\nclass AbstractChainedBatch {\n  constructor (db) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    this[kOperations] = []\n    this[kCloseCallbacks] = []\n    this[kStatus] = 'open'\n    this[kFinishClose] = this[kFinishClose].bind(this)\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get length () {\n    return this[kOperations].length\n  }\n\n  put (key, value, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call put() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key) || this.db._checkValue(value)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = db.valueEncoding(options && options.valueEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat, valueEncoding: valueEncoding.format }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    const mappedKey = db.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options)\n    this[kOperations].push({ ...original, type: 'put', key, value })\n\n    return this\n  }\n\n  _put (key, value, options) {}\n\n  del (key, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call del() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    this._del(db.prefixKey(keyEncoding.encode(key), keyFormat), options)\n    this[kOperations].push({ ...original, type: 'del', key })\n\n    return this\n  }\n\n  _del (key, options) {}\n\n  clear () {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call clear() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    this._clear()\n    this[kOperations] = []\n\n    return this\n  }\n\n  _clear () {}\n\n  write (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options)\n\n    if (this[kStatus] !== 'open') {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    } else if (this.length === 0) {\n      this.close(callback)\n    } else {\n      this[kStatus] = 'writing'\n      this._write(options, (err) => {\n        this[kStatus] = 'closing'\n        this[kCloseCallbacks].push(() => callback(err))\n\n        // Emit after setting 'closing' status, because event may trigger a\n        // db close which in turn triggers (idempotently) closing this batch.\n        if (!err) this.db.emit('batch', this[kOperations])\n\n        this._close(this[kFinishClose])\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _write (options, callback) {}\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kStatus] === 'closing') {\n      this[kCloseCallbacks].push(callback)\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(callback)\n    } else {\n      this[kCloseCallbacks].push(callback)\n\n      if (this[kStatus] !== 'writing') {\n        this[kStatus] = 'closing'\n        this._close(this[kFinishClose])\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kFinishClose] () {\n    this[kStatus] = 'closed'\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n}\n\nexports.AbstractChainedBatch = AbstractChainedBatch\n","'use strict'\n\nconst ModuleError = require('module-error')\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst rangeOptions = new Set(['lt', 'lte', 'gt', 'gte'])\n\nmodule.exports = function (options, keyEncoding) {\n  const result = {}\n\n  for (const k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n    if (k === 'keyEncoding' || k === 'valueEncoding') continue\n\n    if (k === 'start' || k === 'end') {\n      throw new ModuleError(`The legacy range option '${k}' has been removed`, {\n        code: 'LEVEL_LEGACY'\n      })\n    } else if (k === 'encoding') {\n      // To help migrating to abstract-level\n      throw new ModuleError(\"The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead\", {\n        code: 'LEVEL_LEGACY'\n      })\n    }\n\n    if (rangeOptions.has(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      result[k] = keyEncoding.encode(options[k])\n    } else {\n      result[k] = options[k]\n    }\n  }\n\n  result.reverse = !!result.reverse\n  result.limit = Number.isInteger(result.limit) && result.limit >= 0 ? result.limit : -1\n\n  return result\n}\n","'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n","/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n","'use strict'\n\nconst ModuleError = require('module-error')\nconst { Buffer } = require('buffer') || {}\nconst {\n  AbstractSublevelIterator,\n  AbstractSublevelKeyIterator,\n  AbstractSublevelValueIterator\n} = require('./abstract-sublevel-iterator')\n\nconst kPrefix = Symbol('prefix')\nconst kUpperBound = Symbol('upperBound')\nconst kPrefixRange = Symbol('prefixRange')\nconst kParent = Symbol('parent')\nconst kUnfix = Symbol('unfix')\n\nconst textEncoder = new TextEncoder()\nconst defaults = { separator: '!' }\n\n// Wrapped to avoid circular dependency\nmodule.exports = function ({ AbstractLevel }) {\n  class AbstractSublevel extends AbstractLevel {\n    static defaults (options) {\n      // To help migrating from subleveldown to abstract-level\n      if (typeof options === 'string') {\n        throw new ModuleError('The subleveldown string shorthand for { separator } has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      } else if (options && options.open) {\n        throw new ModuleError('The subleveldown open option has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      }\n\n      if (options == null) {\n        return defaults\n      } else if (!options.separator) {\n        return { ...options, separator: '!' }\n      } else {\n        return options\n      }\n    }\n\n    // TODO: add autoClose option, which if true, does parent.attachResource(this)\n    constructor (db, name, options) {\n      // Don't forward AbstractSublevel options to AbstractLevel\n      const { separator, manifest, ...forward } = AbstractSublevel.defaults(options)\n      name = trim(name, separator)\n\n      // Reserve one character between separator and name to give us an upper bound\n      const reserved = separator.charCodeAt(0) + 1\n      const parent = db[kParent] || db\n\n      // Keys should sort like ['!a!', '!a!!a!', '!a\"', '!aa!', '!b!'].\n      // Use ASCII for consistent length between string, Buffer and Uint8Array\n      if (!textEncoder.encode(name).every(x => x > reserved && x < 127)) {\n        throw new ModuleError(`Prefix must use bytes > ${reserved} < ${127}`, {\n          code: 'LEVEL_INVALID_PREFIX'\n        })\n      }\n\n      super(mergeManifests(parent, manifest), forward)\n\n      const prefix = (db.prefix || '') + separator + name + separator\n      const upperBound = prefix.slice(0, -1) + String.fromCharCode(reserved)\n\n      this[kParent] = parent\n      this[kPrefix] = new MultiFormat(prefix)\n      this[kUpperBound] = new MultiFormat(upperBound)\n      this[kUnfix] = new Unfixer()\n\n      this.nextTick = parent.nextTick\n    }\n\n    prefixKey (key, keyFormat) {\n      if (keyFormat === 'utf8') {\n        return this[kPrefix].utf8 + key\n      } else if (key.byteLength === 0) {\n        // Fast path for empty key (no copy)\n        return this[kPrefix][keyFormat]\n      } else if (keyFormat === 'view') {\n        const view = this[kPrefix].view\n        const result = new Uint8Array(view.byteLength + key.byteLength)\n\n        result.set(view, 0)\n        result.set(key, view.byteLength)\n\n        return result\n      } else {\n        const buffer = this[kPrefix].buffer\n        return Buffer.concat([buffer, key], buffer.byteLength + key.byteLength)\n      }\n    }\n\n    // Not exposed for now.\n    [kPrefixRange] (range, keyFormat) {\n      if (range.gte !== undefined) {\n        range.gte = this.prefixKey(range.gte, keyFormat)\n      } else if (range.gt !== undefined) {\n        range.gt = this.prefixKey(range.gt, keyFormat)\n      } else {\n        range.gte = this[kPrefix][keyFormat]\n      }\n\n      if (range.lte !== undefined) {\n        range.lte = this.prefixKey(range.lte, keyFormat)\n      } else if (range.lt !== undefined) {\n        range.lt = this.prefixKey(range.lt, keyFormat)\n      } else {\n        range.lte = this[kUpperBound][keyFormat]\n      }\n    }\n\n    get prefix () {\n      return this[kPrefix].utf8\n    }\n\n    get db () {\n      return this[kParent]\n    }\n\n    _open (options, callback) {\n      // The parent db must open itself or be (re)opened by the user because\n      // a sublevel should not initiate state changes on the rest of the db.\n      this[kParent].open({ passive: true }, callback)\n    }\n\n    _put (key, value, options, callback) {\n      this[kParent].put(key, value, options, callback)\n    }\n\n    _get (key, options, callback) {\n      this[kParent].get(key, options, callback)\n    }\n\n    _getMany (keys, options, callback) {\n      this[kParent].getMany(keys, options, callback)\n    }\n\n    _del (key, options, callback) {\n      this[kParent].del(key, options, callback)\n    }\n\n    _batch (operations, options, callback) {\n      this[kParent].batch(operations, options, callback)\n    }\n\n    _clear (options, callback) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      this[kParent].clear(options, callback)\n    }\n\n    _iterator (options) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].iterator(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelIterator(this, options, iterator, unfix)\n    }\n\n    _keys (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].keys(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelKeyIterator(this, options, iterator, unfix)\n    }\n\n    _values (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].values(options)\n      return new AbstractSublevelValueIterator(this, options, iterator)\n    }\n  }\n\n  return { AbstractSublevel }\n}\n\nconst mergeManifests = function (parent, manifest) {\n  return {\n    // Inherit manifest of parent db\n    ...parent.supports,\n\n    // Disable unsupported features\n    createIfMissing: false,\n    errorIfExists: false,\n\n    // Unset additional events because we're not forwarding them\n    events: {},\n\n    // Unset additional methods (like approximateSize) which we can't support here unless\n    // the AbstractSublevel class is overridden by an implementation of `abstract-level`.\n    additionalMethods: {},\n\n    // Inherit manifest of custom AbstractSublevel subclass. Such a class is not\n    // allowed to override encodings.\n    ...manifest,\n\n    encodings: {\n      utf8: supportsEncoding(parent, 'utf8'),\n      buffer: supportsEncoding(parent, 'buffer'),\n      view: supportsEncoding(parent, 'view')\n    }\n  }\n}\n\nconst supportsEncoding = function (parent, encoding) {\n  // Prefer a non-transcoded encoding for optimal performance\n  return parent.supports.encodings[encoding]\n    ? parent.keyEncoding(encoding).name === encoding\n    : false\n}\n\nclass MultiFormat {\n  constructor (key) {\n    this.utf8 = key\n    this.view = textEncoder.encode(key)\n    this.buffer = Buffer ? Buffer.from(this.view.buffer, 0, this.view.byteLength) : {}\n  }\n}\n\nclass Unfixer {\n  constructor () {\n    this.cache = new Map()\n  }\n\n  get (prefixLength, keyFormat) {\n    let unfix = this.cache.get(keyFormat)\n\n    if (unfix === undefined) {\n      if (keyFormat === 'view') {\n        unfix = function (prefixLength, key) {\n          // Avoid Uint8Array#slice() because it copies\n          return key.subarray(prefixLength)\n        }.bind(null, prefixLength)\n      } else {\n        unfix = function (prefixLength, key) {\n          // Avoid Buffer#subarray() because it's slow\n          return key.slice(prefixLength)\n        }.bind(null, prefixLength)\n      }\n\n      this.cache.set(keyFormat, unfix)\n    }\n\n    return unfix\n  }\n}\n\nconst trim = function (str, char) {\n  let start = 0\n  let end = str.length\n\n  while (start < end && str[start] === char) start++\n  while (end > start && str[end - 1] === char) end--\n\n  return str.slice(start, end)\n}\n","'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kUnfix = Symbol('unfix')\nconst kIterator = Symbol('iterator')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kCallback = Symbol('callback')\n\n// TODO: unfix natively if db supports it\nclass AbstractSublevelIterator extends AbstractIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key, value) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (const entry of entries) {\n      const key = entry[0]\n      if (key !== undefined) entry[0] = this[kUnfix](key)\n    }\n\n    callback(err, entries)\n  }\n}\n\nclass AbstractSublevelKeyIterator extends AbstractKeyIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      if (key !== undefined) keys[i] = this[kUnfix](key)\n    }\n\n    callback(err, keys)\n  }\n}\n\nclass AbstractSublevelValueIterator extends AbstractValueIterator {\n  constructor (db, options, iterator) {\n    super(db, options)\n    this[kIterator] = iterator\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n}\n\nfor (const Iterator of [AbstractSublevelValueIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kIterator].next(callback)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kIterator].nextv(size, options, callback)\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kIterator].all(options, callback)\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator, AbstractSublevelValueIterator]) {\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\nexports.AbstractSublevelIterator = AbstractSublevelIterator\nexports.AbstractSublevelKeyIterator = AbstractSublevelKeyIterator\nexports.AbstractSublevelValueIterator = AbstractSublevelValueIterator\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport type { AsyncStorageStatic } from '@react-native-async-storage/async-storage'\nimport type { AbstractKeyIteratorOptions, AbstractLevel as AbstractLevelType } from 'abstract-level'\nimport {\n  AbstractDatabaseOptions,\n  AbstractIterator,\n  AbstractKeyIterator,\n  AbstractLevel,\n  AbstractValueIterator\n} from 'abstract-level'\n\nexport type LevelErrorCode =\n  | 'LEVEL_PUT_ERROR'\n  | 'LEVEL_NOT_FOUND'\n  | 'LEVEL_GET_ERROR'\n  | 'LEVEL_DEL_ERROR'\n  | 'LEVEL_INVALID_VALUE'\n\nexport class LevelError extends Error {\n  public code: LevelErrorCode\n\n  constructor(message: string, code: LevelErrorCode) {\n    super(message)\n    this.name = 'LevelError'\n    this.code = code\n  }\n}\n\nexport type ValueType = string | number | boolean | null | undefined\n\nexport class RNAsyncStorageLevel extends AbstractLevel<string, string, ValueType> {\n  protected storage: AsyncStorageStatic\n\n  protected location: string\n\n  constructor(storage: AsyncStorageStatic, location: string, options?: AbstractDatabaseOptions<string, string>) {\n    const manifest: Partial<AbstractLevelType<string>['supports']> = {\n      getMany: true,\n      snapshots: false,\n      permanence: true,\n      keyIterator: false,\n      valueIterator: false,\n      iteratorNextv: false,\n      iteratorAll: true,\n      streams: false,\n      seek: false,\n      encodings: {\n        utf8: true\n      },\n      events: {\n        opening: true,\n        open: true,\n        closing: true,\n        closed: true,\n        put: true,\n        del: true,\n        batch: false,\n        clear: true\n      }\n    }\n    const mergedOptions: AbstractDatabaseOptions<string, string> = {\n      createIfMissing: true,\n      errorIfExists: false,\n      keyEncoding: 'utf8',\n      valueEncoding: 'utf8',\n      ...options\n    }\n\n    super(manifest, mergedOptions)\n    this.location = location\n    this.storage = storage\n  }\n\n  protected _open(options: any, callback: (err?: Error | null) => void = () => {}): void {\n    // AsyncStorage does not need an explicit open call.\n    queueMicrotask(() => {\n      callback()\n    })\n  }\n\n  protected _close(callback: (err?: Error | null) => void = () => {}): void {\n    // AsyncStorage does not need an explicit close call.\n    queueMicrotask(() => {\n      callback()\n    })\n  }\n\n  protected _get(\n    key: string,\n    options: any,\n    callback?: (err: Error | null, value?: ValueType) => void\n  ): void | Promise<ValueType> {\n    if (callback) {\n      this.storage.getItem(`${this.location}/${key}`).then((value) => {\n        if (value === null || value === undefined) {\n          queueMicrotask(() => {\n            callback(new LevelError(`Key ${key} not found`, 'LEVEL_NOT_FOUND'))\n          })\n        } else {\n          queueMicrotask(() => {\n            callback(null, value)\n          })\n        }\n      })\n    } else {\n      return new Promise<ValueType>((resolve, reject) => {\n        this.storage.getItem(`${this.location}/${key}`).then((value) => {\n          if (value === null || value === undefined) {\n            reject(new LevelError(`Key ${key} not found`, 'LEVEL_NOT_FOUND'))\n          } else {\n            resolve(value)\n          }\n        })\n      })\n    }\n  }\n\n  public _getAllKeys(callback?: (err: Error | null, keys?: string[]) => void): void | Promise<string[]> {\n    if (callback) {\n      this.storage\n        .getAllKeys()\n        .then((keys) =>\n          queueMicrotask(() => {\n            callback(\n              null,\n              keys.filter((key) => key.startsWith(this.location)).map((key) => key.replace(`${this.location}/`, ''))\n            )\n          })\n        )\n        .catch((err) =>\n          queueMicrotask(() => {\n            callback(err)\n          })\n        )\n    } else {\n      return new Promise<string[]>((resolve, reject) => {\n        this.storage\n          .getAllKeys()\n          .then((keys) =>\n            resolve(\n              keys.filter((key) => key.startsWith(this.location)).map((key) => key.replace(`${this.location}/`, ''))\n            )\n          )\n          .catch((err) => reject(err))\n      })\n    }\n  }\n\n  protected _getMany(\n    keys: string[],\n    options: any,\n    callback: (err: Error | null, value?: ValueType[]) => void\n  ): void | Promise<ValueType[]> {\n    if (callback) {\n      this.storage\n        .multiGet(keys.map((key) => `${this.location}/${key}`))\n        .then((results) =>\n          queueMicrotask(() => {\n            callback(\n              null,\n              results.map(([key, value]) => value)\n            )\n          })\n        )\n        .catch((err) =>\n          queueMicrotask(() => {\n            callback(err)\n          })\n        )\n    } else {\n      return new Promise<ValueType[]>((resolve, reject) => {\n        this.storage\n          .multiGet(keys.map((key) => `${this.location}/${key}`))\n          .then((results) => resolve(results.map(([key, value]) => value)))\n          .catch((err) => reject(err))\n      })\n    }\n  }\n\n  protected _put(\n    key: string,\n    value: string,\n    options: any,\n    callback: (err?: Error | null) => void\n  ): void | Promise<void> {\n    if (callback) {\n      this.storage\n        .setItem(`${this.location}/${key}`, value)\n        .then(() =>\n          queueMicrotask(() => {\n            callback()\n          })\n        )\n        .catch((err) =>\n          queueMicrotask(() => {\n            callback(new LevelError(err.message, 'LEVEL_PUT_ERROR'))\n          })\n        )\n    } else {\n      return new Promise<void>((resolve, reject) => {\n        this.storage\n          .setItem(`${this.location}/${key}`, value)\n          .then(() => resolve())\n          .catch((err) => reject(new LevelError(err.message, 'LEVEL_PUT_ERROR')))\n      })\n    }\n  }\n\n  protected _del(key: string, options: any, callback: (err?: Error | null) => void): void | Promise<void> {\n    if (callback) {\n      this.storage\n        .removeItem(`${this.location}/${key}`)\n        .then(() =>\n          queueMicrotask(() => {\n            callback()\n          })\n        )\n        .catch((err) =>\n          queueMicrotask(() => {\n            callback(new LevelError(err.message, 'LEVEL_DEL_ERROR'))\n          })\n        )\n    } else {\n      return new Promise<void>((resolve, reject) => {\n        this.storage\n          .removeItem(`${this.location}/${key}`)\n          .then(() => resolve())\n          .catch((err) => reject(new LevelError(err.message, 'LEVEL_DEL_ERROR')))\n      })\n    }\n  }\n\n  protected _clear(options: any, callback: (err?: Error | null) => void): void | Promise<void> {\n    if (callback) {\n      this.storage\n        .getAllKeys()\n        .then((keys) => {\n          const keysInLocation = keys.filter((key) => key.startsWith(`${this.location}/`))\n          return this.storage.multiRemove(keysInLocation)\n        })\n        .then(() =>\n          queueMicrotask(() => {\n            callback()\n          })\n        )\n        .catch((err) =>\n          queueMicrotask(() => {\n            callback(new LevelError(err.message, 'LEVEL_DEL_ERROR'))\n          })\n        )\n    } else {\n      return new Promise<void>((resolve, reject) => {\n        this.storage\n          .getAllKeys()\n          .then((keys) => {\n            const keysInLocation = keys.filter((key) => key.startsWith(`${this.location}/`))\n            return this.storage.multiRemove(keysInLocation)\n          })\n          .then(() => resolve())\n          .catch((err) => reject(new LevelError(err.message, 'LEVEL_DEL_ERROR')))\n      })\n    }\n  }\n\n  _iterator(options?: any): AsyncStorageIterator {\n    return new AsyncStorageIterator(this, options)\n  }\n\n  _keys(options?: AbstractKeyIteratorOptions<string>): AsyncStorageKeyIterator {\n    return new AsyncStorageKeyIterator(this, options)\n  }\n\n  _values(options?: any): AsyncStorageValueIterator {\n    return new AsyncStorageValueIterator(this, options)\n  }\n}\n\nexport class AsyncStorageIterator extends AbstractIterator<RNAsyncStorageLevel, string, ValueType> {\n  private keys: string[]\n\n  private currentIndex: number\n\n  constructor(database: RNAsyncStorageLevel, options: any) {\n    super(database, options)\n    this.keys = []\n    this.currentIndex = 0\n  }\n\n  // TODO: fix\n  // async _next(callback: (err?: Error | null, key?: string, value?: ValueType) => void): Promise<void> {\n  //   if (!this.keys.length) {\n  //     this.keys = (await this.db._getAllKeys()) as string[]\n  //   }\n  //   if (this.currentIndex >= this.keys.length) {\n  //     callback()\n  //     return\n  //   }\n\n  //   const key = this.keys[this.currentIndex++]\n  //   const value = (await this.db.get(key)) as ValueType\n  //   callback(null, key, value)\n  // }\n\n  // async _nextv(\n  //   size = 0,\n  //   options?: any,\n  //   callback?: (err: Error | null, entries?: [string, ValueType][]) => void\n  // ): Promise<void> {\n  //   if (!this.keys.length) {\n  //     this.keys = (await this.db._getAllKeys()) as string[]\n  //   }\n  //   const entries: [string, ValueType][] = []\n  //   const endIndex = Math.min(this.currentIndex + size, this.keys.length)\n  //   for (; this.currentIndex < endIndex; this.currentIndex++) {\n  //     const key = this.keys[this.currentIndex]\n  //     const value = (await this.db.get(key)) as ValueType\n  //     entries.push([key, value])\n  //   }\n  //   callback(null, entries)\n  // }\n\n  async _all(options: any, callback: (err: Error | null, entries?: [string, ValueType][]) => void): Promise<void> {\n    if (!this.keys.length) {\n      this.keys = (await this.db._getAllKeys()) as string[]\n    }\n    const entries: [string, ValueType][] = []\n    for (; this.currentIndex < this.keys.length; this.currentIndex++) {\n      const key = this.keys[this.currentIndex]\n      const value = (await this.db.get(key)) as ValueType\n      entries.push([key, value])\n    }\n    queueMicrotask(() => callback(null, entries))\n  }\n\n  _close(callback: () => void) {\n    this.keys = []\n    this.currentIndex = 0\n    queueMicrotask(() => callback())\n  }\n}\n\nexport class AsyncStorageKeyIterator extends AbstractKeyIterator<RNAsyncStorageLevel, string> {\n  private keys: string[]\n\n  private currentIndex: number\n\n  constructor(db: RNAsyncStorageLevel, options: AbstractKeyIteratorOptions<string>) {\n    super(db, options)\n    this.keys = []\n    this.currentIndex = 0\n  }\n\n  // TODO: fix\n  // async _next(callback: (err?: Error | null, key?: string) => void): Promise<void> {\n  //   if (!this.keys.length) {\n  //     this.keys = (await this.db._getAllKeys()) as string[]\n  //   }\n  //   if (this.currentIndex >= this.keys.length) {\n  //     queueMicrotask(() => callback())\n  //     return\n  //   }\n\n  //   const key = this.keys[this.currentIndex++]\n  //   queueMicrotask(() => callback(null, key))\n  // }\n\n  // async _nextv(size: number, options: any, callback: (err: Error | null, keys?: string[]) => void): Promise<void> {\n  //   if (!this.keys.length) {\n  //     this.keys = (await this.db._getAllKeys()) as string[]\n  //   }\n  //   const keys = this.keys.slice(this.currentIndex, this.currentIndex + size)\n  //   this.currentIndex += keys.length\n  //   queueMicrotask(() => callback(null, keys))\n  // }\n\n  async _all(options: any, callback: (err: Error | null, keys?: string[]) => void): Promise<void> {\n    if (!this.keys.length) {\n      this.keys = (await this.db._getAllKeys()) as string[]\n    }\n    const keys = this.keys.slice(this.currentIndex)\n    this.currentIndex = this.keys.length\n    queueMicrotask(() => callback(null, keys))\n  }\n\n  _close(callback: () => void) {\n    this.keys = []\n    this.currentIndex = 0\n    queueMicrotask(() => callback())\n  }\n}\n\nexport class AsyncStorageValueIterator extends AbstractValueIterator<RNAsyncStorageLevel, string, ValueType> {\n  private keys: string[]\n\n  private currentIndex: number\n\n  constructor(db: RNAsyncStorageLevel, options: any) {\n    super(db, options)\n    this.keys = []\n    this.currentIndex = 0\n  }\n  // TODO: fix\n  // async _next(callback: (err?: Error | null, value?: ValueType) => void): Promise<void> {\n  //   if (!this.keys.length) {\n  //     this.keys = (await this.db._getAllKeys()) as string[]\n  //   }\n  //   if (this.currentIndex >= this.keys.length) {\n  //     queueMicrotask(() => callback())\n  //     return\n  //   }\n  //   const key = this.keys[this.currentIndex++]\n  //   const value = (await this.db.get(key)) as ValueType\n  //   queueMicrotask(() => callback(null, value))\n  // }\n\n  // async _nextv(size: number, options: any, callback: (err: Error | null, values?: ValueType[]) => void): Promise<void> {\n  //   if (!this.keys.length) {\n  //     this.keys = (await this.db._getAllKeys()) as string[]\n  //   }\n  //   const endIndex = Math.min(this.currentIndex + size, this.keys.length)\n  //   const fetchPromises = this.keys.slice(this.currentIndex, endIndex).map((key) => this.db.get(key))\n  //   const values = await Promise.all(fetchPromises)\n  //   this.currentIndex = endIndex\n  //   queueMicrotask(() => callback(null, values))\n  // }\n\n  async _all(options: any, callback: (err: Error | null, values?: ValueType[]) => void): Promise<void> {\n    if (!this.keys.length) {\n      this.keys = (await this.db._getAllKeys()) as string[]\n    }\n    const fetchPromises = this.keys.slice(this.currentIndex, this.keys.length).map((key) => this.db.get(key))\n    const values = await Promise.all(fetchPromises)\n    this.currentIndex = this.keys.length\n    queueMicrotask(() => callback(null, values))\n  }\n\n  _close(callback: () => void) {\n    this.keys = []\n    this.currentIndex = 0\n    queueMicrotask(() => callback())\n  }\n}\n","'use strict'\n\nexports.AbstractLevel = require('./abstract-level').AbstractLevel\nexports.AbstractSublevel = require('./abstract-level').AbstractSublevel\nexports.AbstractIterator = require('./abstract-iterator').AbstractIterator\nexports.AbstractKeyIterator = require('./abstract-iterator').AbstractKeyIterator\nexports.AbstractValueIterator = require('./abstract-iterator').AbstractValueIterator\nexports.AbstractChainedBatch = require('./abstract-chained-batch').AbstractChainedBatch\n"],"names":[],"version":3,"file":"main.js.map"}